---name: gsd:add-phasedescription: Add phase to end of current milestone in roadmapargument-hint: <description>allowed-tools:  - Read  - Write  - Bash---<objective>Add a new integer phase to the end of the current milestone in the roadmap.This command appends sequential phases to the current milestone's phase list, automatically calculating the next phase number based on existing phases.Purpose: Add planned work discovered during execution that belongs at the end of current milestone.</objective><execution_context>@.planning/ROADMAP.md@.planning/STATE.md</execution_context><process><step name="parse_arguments">Parse the command arguments:- All arguments become the phase description- Example: `/gsd:add-phase Add authentication` → description = "Add authentication"- Example: `/gsd:add-phase Fix critical performance issues` → description = "Fix critical performance issues"If no arguments provided:```yaml```text
```bashif [ -f .planning/ROADMAP.md ]; then  ROADMAP=".planning/ROADMAP.md"else  echo "ERROR: No roadmap found (.planning/ROADMAP.md)"  exit 1fi```html```bash
```html```bash# Example transformation:# "Add authentication" → "add-authentication"# "Fix critical performance issues" → "fix-critical-performance-issues"slug=$(echo "$description" | tr '[:upper:]' '[:lower:]' | sed 's/[^a-z0-9]/-/g' | sed 's/--*/-/g' | sed 's/^-//;s/-$//')```sql```bashphase_dir=".planning/phases/${phase_num}-${slug}"mkdir -p "$phase_dir"```html```bash
```</step></process><anti_patterns>- Don't modify phases outside current milestone- Don't renumber existing phases- Don't use decimal numbering (that's /gsd:insert-phase)- Don't create plans yet (that's /gsd:plan-phase)- Don't commit changes (user decides when to commit)  </anti_patterns><success_criteria>Phase addition is complete when:- [ ] Phase directory created: `.planning/phases/{NN}-{slug}/`- [ ] Roadmap updated with new phase entry- [ ] STATE.md updated with roadmap evolution note- [ ] New phase appears at end of current milestone- [ ] Next phase number calculated correctly (ignoring decimals)- [ ] User informed of next steps      </success_criteria>