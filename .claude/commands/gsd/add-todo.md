---name: gsd:add-tododescription: Capture idea or task as todo from current conversation contextargument-hint: [optional description]allowed-tools:  - Read  - Write  - Bash  - Glob---<objective>Capture an idea, task, or issue that surfaces during a GSD session as a structured todo for later work.Enables "thought → capture → continue" flow without losing context or derailing current work.</objective><context>@.planning/STATE.md</context><process><step name="ensure_directory">```bashmkdir -p .planning/todos/pending .planning/todos/done```html```bashls .planning/todos/pending/*.md 2>/dev/null | xargs -I {} grep "^area:" {} 2>/dev/null | cut -d' ' -f2 | sort -u```html```bashgrep -l -i "[key words from title]" .planning/todos/pending/*.md 2>/dev/null```markdown```bashtimestamp=$(date "+%Y-%m-%dT%H:%M")date_prefix=$(date "+%Y-%m-%d")```csv```markdown---created: [timestamp]title: [title]area: [area]files:  - [file:lines]---## Problem[problem description - enough context for future Claude to understand weeks later]## Solution[approach hints or "TBD"]```html```bashCOMMIT_PLANNING_DOCS=$(cat .planning/config.json 2>/dev/null | grep -o '"commit_docs"[[:space:]]*:[[:space:]]*[^,}]*' | grep -o 'true\|false' || echo "true")git check-ignore -q .planning 2>/dev/null && COMMIT_PLANNING_DOCS=false```text```bashgit add .planning/todos/pending/[filename][ -f .planning/STATE.md ] && git add .planning/STATE.mdgit commit -m "$(cat <<'EOF'docs: capture todo - [title]Area: [area]EOF)"```html```text
```</step></process><output>- `.planning/todos/pending/[date]-[slug].md`- Updated `.planning/STATE.md` (if exists)</output><anti_patterns>- Don't create todos for work in current plan (that's deviation rule territory)- Don't create elaborate solution sections — captures ideas, not plans- Don't block on missing information — "TBD" is fine</anti_patterns><success_criteria>- [ ] Directory structure exists- [ ] Todo file created with valid frontmatter- [ ] Problem section has enough context for future Claude- [ ] No duplicates (checked and resolved)- [ ] Area consistent with existing todos- [ ] STATE.md updated if exists- [ ] Todo and state committed to git</success_criteria>