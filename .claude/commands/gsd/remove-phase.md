---name: gsd:remove-phasedescription: Remove a future phase from roadmap and renumber subsequent phasesargument-hint: <phase-number>allowed-tools:  - Read  - Write  - Bash  - Glob---<objective>Remove an unstarted future phase from the roadmap and renumber all subsequent phases to maintain a clean, linear sequence.Purpose: Clean removal of work you've decided not to do, without polluting context with cancelled/deferred markers.Output: Phase deleted, all subsequent phases renumbered, git commit as historical record.</objective><execution_context>@.planning/ROADMAP.md@.planning/STATE.md</execution_context><process><step name="parse_arguments">Parse the command arguments:- Argument is the phase number to remove (integer or decimal)- Example: `/gsd:remove-phase 17` → phase = 17- Example: `/gsd:remove-phase 16.1` → phase = 16.1If no argument provided:```yaml```text
```bashcat .planning/STATE.md 2>/dev/nullcat .planning/ROADMAP.md 2>/dev/null```html```markdown
```text```bashls .planning/phases/{target}-*/*-SUMMARY.md 2>/dev/null```text```markdown
```html```markdown
```sql```bashif [ -d ".planning/phases/{target}-{slug}" ]; then  rm -rf ".planning/phases/{target}-{slug}"  echo "Deleted: .planning/phases/{target}-{slug}/"fi```html```bash# Example: renaming 18-dashboard to 17-dashboardmv ".planning/phases/18-dashboard" ".planning/phases/17-dashboard"```csv```bash# Inside 17-dashboard (was 18-dashboard):mv "18-01-PLAN.md" "17-01-PLAN.md"mv "18-02-PLAN.md" "17-02-PLAN.md"mv "18-01-SUMMARY.md" "17-01-SUMMARY.md"  # if exists# etc.```sql```bash# Find files that reference the old phase numbersgrep -r "Phase 18" .planning/phases/17-*/ 2>/dev/nullgrep -r "Phase 19" .planning/phases/18-*/ 2>/dev/null# etc.```sql```bashCOMMIT_PLANNING_DOCS=$(cat .planning/config.json 2>/dev/null | grep -o '"commit_docs"[[:space:]]*:[[:space:]]*[^,}]*' | grep -o 'true\|false' || echo "true")git check-ignore -q .planning 2>/dev/null && COMMIT_PLANNING_DOCS=false```text```bashgit add .planning/git commit -m "chore: remove phase {target} ({original-phase-name})"```html```bash
```</step></process><anti_patterns>- Don't remove completed phases (have SUMMARY.md files)- Don't remove current or past phases- Don't leave gaps in numbering - always renumber- Don't add "removed phase" notes to STATE.md - git commit is the record- Don't ask about each decimal phase - just renumber them- Don't modify completed phase directories</anti_patterns><edge_cases>**Removing a decimal phase (e.g., 17.1):**- Only affects other decimals in same series (17.2 → 17.1, 17.3 → 17.2)- Integer phases unchanged- Simpler operation**No subsequent phases to renumber:**- Removing the last phase (e.g., Phase 20 when that's the end)- Just delete and update ROADMAP.md, no renumbering needed**Phase directory doesn't exist:**- Phase may be in ROADMAP.md but directory not created yet- Skip directory deletion, proceed with ROADMAP.md updates**Decimal phases under removed integer:**- Removing Phase 17 when 17.1, 17.2 exist- 17.1 → 16.1, 17.2 → 16.2- They maintain their position in execution order (after current last integer)</edge_cases><success_criteria>Phase removal is complete when:- [ ] Target phase validated as future/unstarted- [ ] Phase directory deleted (if existed)- [ ] All subsequent phase directories renumbered- [ ] Files inside directories renamed ({old}-01-PLAN.md → {new}-01-PLAN.md)- [ ] ROADMAP.md updated (section removed, all references renumbered)- [ ] STATE.md updated (phase count, progress percentage)- [ ] Dependency references updated in subsequent phases- [ ] Changes committed with descriptive message- [ ] No gaps in phase numbering- [ ] User informed of changes</success_criteria>