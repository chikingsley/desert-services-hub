---description: Extract structured data from a processed contract PDF. Use when a contract has been dropped into the pipeline and needs data extraction, or when user says "extract this contract" or "contract extract".user_invocable: true---# Contract Extract SkillExtract structured data from contract text stored in the database.## When to Use- User says "extract this contract" or "contract extract"- User wants to extract data from a processed contract- Pipeline has processed a PDF and it's ready for extraction- User provides a contract ID to extract## Workflow### 1. Get Contract TextIf no contract ID provided, list recent contracts:```bashbun -e "import { db } from './lib/db';const pending = db.query(\`  SELECT pc.id, pc.filename, pc.processed_at,         (SELECT COUNT(*) FROM contract_extractions ce WHERE ce.contract_id = pc.id) as extraction_count  FROM processed_contracts pc  WHERE pc.status = 'completed'  ORDER BY pc.id DESC  LIMIT 10\`).all();console.log('Recent contracts:');for (const c of pending) {  const status = c.extraction_count > 0 ? '(extracted)' : '(pending)';  console.log('  ' + c.id + ': ' + c.filename + ' ' + status);}"```text```bashbun -e "import { getFullText } from './services/contract/extraction/storage';const text = getFullText({CONTRACT_ID});console.log(text);"```css```bashbun -e "import { storeAgentResult } from './services/contract/agents/storage';const contractId = {CONTRACT_ID};// Store each domainstoreAgentResult(contractId, 'contractInfo', {CONTRACT_INFO_JSON}, 'success', null, 0);storeAgentResult(contractId, 'billing', {BILLING_JSON}, 'success', null, 0);storeAgentResult(contractId, 'contacts', {CONTACTS_JSON}, 'success', null, 0);storeAgentResult(contractId, 'sov', {SOV_JSON}, 'success', null, 0);storeAgentResult(contractId, 'insurance', {INSURANCE_JSON}, 'success', null, 0);storeAgentResult(contractId, 'siteInfo', {SITE_INFO_JSON}, 'success', null, 0);storeAgentResult(contractId, 'redFlags', {RED_FLAGS_JSON}, 'success', null, 0);console.log('Extraction stored for contract ' + contractId);"```csv
